<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Kitchen</title>
    <script defer src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
    <h1 id="logo">FAST & <em class="weird">WEIRD</em></h1>



<!-- *********** HTML PANIER 2.0 *********** -->
<section class="basket">
    <select id="list" multiple>
    </select>
    
    <button class="add" onclick="ajouter();">Ajouter</button>
    
    <table id="pan">
      <tr><th>Plat</th><th>Prix</th></tr>
    </table>
    
    <p>Total :<span id="tot"></span></p>
    <button class="command" style="visibility: hidden;" onclick="miam();">Commander</button>
</section>

<!-- ********** CSS PANIER *********** -->
<style>


.basket  {
    width: 135px;
    position: fixed; 
    background-color: rgb(0, 0, 0);
    padding: 10px;
    color: white;
    border: 2px solid rgb(255, 255, 255);
    border-radius: 20px;
    box-shadow: 0 10px 10px black;
}

.add {
    
    padding: 5px;
    margin: 5px 0;
    color: white;
    background-color: rgb(52, 52, 255);
    border-radius: 10px;

}

#pan {
margin: 0 auto;
}

#list {
    color: white;
   background-color: black;
   
   padding: 8px;
   
   

}
.command {
    color: white;
    background-color: green;
    padding: 5px;
    border-radius: 10px;
}


</style>




<!-- ********** JAVASCRIPT PANIER ********** -->
 <script>

function remplirCatalogue() {
          let list= document.getElementById('list');
        for (let food of menu) {
            let e= document.createElement("option");
            e.value=food.price;
              let txt= document.createTextNode(food.foodName);
              e.appendChild(txt);
            list.appendChild(e);
            
        }

    }

    
  
    function ajouterCase(parent, txt) {
        var e = document.createElement("td");
        e.appendChild(document.createTextNode(txt));
        parent.appendChild(e);
      }
      
      

   // TOTAL //  
 const panier = []

 function total() {
    let tot= 0;
    for (let i in panier) {
        tot+= panier[i].price;
    }
    return tot;
  }
  
  // AJOUTER ARTICLES //
  function ajouter() {
      
        let list= document.getElementById('list');

        let choix= list.options[list.selectedIndex];
        panier.push(choix)
        let ligne= document.createElement("tr");
        ajouterCase(ligne,choix.innerText); 
        ajouterCase(ligne,choix.value);
         
        document.getElementById("pan").appendChild(ligne);
        document.getElementById("tot").innerHTML= total();
console.log(panier)
  }
    
remplirCatalogue();



// COMMANDER //

function miam() {
    alert("Thanks for your command ! Buon Appetito")
}


/*
function commander() {
    let basket = document.querySelector(".basket")
    let commande = document.createElement("button")
    commande.innerHTML = "commander"
    commande.addEventListener("click", alert)

        basket.appendChild(commande)
    }
*/


function visible() {
    let command = document.querySelector(".command")
    command.style.visibility = "visible"
}

let add = document.querySelector(".add")

add.addEventListener("click", visible)


 </script>












<!--
    <div class="dropdown">
        <div id="cart">
            <p><span id="in-cart-items-num">0</span> Articles</p>
        </div>
    
        <ul id="cart-dropdown" hidden>
            <li id="empty-cart-msg"><a>Votre panier est vide</a></li>
            <li class="go-to-cart hidden"><a href="/panier/">Voir le panier</a></li>
        </ul>
    </div>



<nav>
    <ul class="menuNav">
        <li class="elementNav">Menu</li>
        <li class="elementNav">Breakfast</li>
        <li class="elementNav">Lunch</li>
        <li class="elementNav">Dinner</li>
        <li class="elementNav">Cart</li>
    </ul>
</nav>

-->
    </header>

    <main>
      
      

    </main>

    
</body>
</html>